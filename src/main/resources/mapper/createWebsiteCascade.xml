<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.custmax.officialsite.mapper.CreateWebsiteCascade">

    <insert id="createWebsiteWithRelations">
        <!-- Insert into website table -->
        INSERT INTO website (name, ...)
        VALUES (#{website.name}, ...);

        <!-- Insert into subscription table -->
        INSERT INTO subscription (user_id, website_id, ...)
        VALUES (#{subscription.userId}, #{subscription.websiteId}, ...);

        <!-- Insert into user table -->
        INSERT INTO user (username, email, ...)
        VALUES (#{user.username}, #{user.email}, ...);

        <!-- Insert into domain table -->
        INSERT INTO domain (domain_name, website_id, ...)
        VALUES (#{domain.domainName}, #{domain.websiteId}, ...);
    </insert>

</mapper>